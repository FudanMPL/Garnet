# program.use_trunc_pr = True
program.use_fss_cmp = True

import Compiler.mpc_math
import random
import ml
n = 100
cnt = 0

# c = sfix(0.5)
# d = ml.relu(c)
# print_ln("relu c is %s", d.reveal())

# @for_range_opt(n)
# def _(i):

a = sfix.Array(n)
b = sfix.Array(n)
c = sfix.Array(n)
for i in range(n):
    a[i] = random.randint(-10000, 10000)/100000
    b[i] = random.randint(-10000, 10000)/100000
    # a[i] = 2
    # b[i] = 1

c[:] = a[:] > b[:]

for i in range(n):
    # c[i] = (a[i] > b[i])
    clear_a = a[i].reveal()
    clear_b = b[i].reveal()
    d = (clear_a > clear_b)
    if c[i].reveal() != d:
        print_ln("a is %s, b is %s", a[i].reveal(), b[i].reveal())
        print_ln("c is %s , d is %s, a-b is %s", c[i].reveal(), d, (a[i]-b[i]).reveal()) 
"""
import Compiler.mpc_math
import random
import math

n = 100
cnt = 0

for i in range(n):
    a = sfix(-12942)
    b = sfix(12039)
    c = (a > b)
    clear_a = a.reveal()
    clear_b = b.reveal()
    d = (clear_a > clear_b)
    if c.reveal() != d:
        print_ln("a is %s, b is %s", a.reveal(), b.reveal())
        print_ln("c is %s , d is %s, a-b is %s", c.reveal(), d, (a-b).reveal())    
"""